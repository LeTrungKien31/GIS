{%extends "layout.html"%}
{% load static %}
{%block map%}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/leaflet.css' %}">
    <script src="{% static 'js/leaflet.js' %}"> </script>
    
{% endblock %}
{% block content %}
    <div class="supermarket-detail">
        <h1>{{ supermarket.name }}</h1>
        <img src="{% static 'images/' %}{{ supermarket.image }}" alt="{{ supermarket.name }}" class="supermarket-image">
        <p class="supermarket-address">📍 Địa chỉ: {{ supermarket.address }}</p>
        <p class="supermarket-coordinates">
            🗺️ Vĩ độ: {{ supermarket.latitude }}, Kinh độ: {{ supermarket.longitude }}
        </p>
    </div>
    <div id="map" style="width: 100%; height: 400px;"></div>

    <script>
        var loc = [{{ supermarket.latitude }}, {{ supermarket.longitude }}];
        var map = L.map('map').setView(loc, 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        L.marker(loc).addTo(map)
            .bindPopup("{{ supermarket.name }}<br>{{ supermarket.address }}")
            .openPopup();
    </script>

    <a href="{% url 'home' %}">Quay lại danh sách</a>
{%endblock%}
